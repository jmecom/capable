package safe
module should_fail_slice_return
use sys::system
use sys::buffer

fn leak(alloc: Alloc) -> Slice<u8> {
  let v = alloc.vec_u8_new()
  return v.as_slice()
}

pub fn main(rc: RootCap) -> i32 {
  let alloc = rc.mint_alloc_default()
  let s = leak(alloc)
  let n = s.len()
  if (n == 0) {
    return 0
  }
  return 1
}
