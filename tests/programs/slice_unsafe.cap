package unsafe
module slice_unsafe
use sys.buffer
use sys.mem

pub fn main(sys: System) -> i32 {
  let alloc = mem.alloc_default()
  match mem.buffer_new(alloc, 4) {
    Ok(b) => {
      let slice = mem.buffer_as_slice(b)
      let len = mem.slice_len(slice)
      return len
    }
    Err(e) => { return 1 }
  }
  return 1
}
