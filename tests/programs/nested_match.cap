module nested_match
use sys::system
use sys::console

fn classify(x: i32) -> i32 {
  match (x > 0) {
    true => {
      match (x > 10) {
        true => { return 2 }
        false => { return 1 }
      }
    }
    false => { return 0 }
  }
}

pub fn main(rc: RootCap) -> i32 {
  let c = rc.mint_console()
  let a = classify(-5)
  let b = classify(5)
  let d = classify(15)
  if (a == 0) {
    if (b == 1) {
      if (d == 2) {
        c.println("nested match ok")
      }
    }
  }
  return 0
}
