module fs_traversal_denied
use sys::root
use sys::fs
use sys::console

pub fn main(rc: RootCap) -> i32 {
  let c = rc.mint_console()
  let rfs = rc.mint_fs_read("./config")

  match rfs.read_to_string("../secrets.txt") {
    Ok(s) => { c.println("BUG: escaped"); return 2 }
    Err(e) => { c.println("denied"); return 0 }
  }
}
